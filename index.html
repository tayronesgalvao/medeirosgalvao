<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mapa Nordeste com Rede Neural</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      overflow: hidden;
    }

    #svg-container {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    svg {
      width: 90%;
      height: auto;
      max-height: 100%;
    }

    path {
      fill: #013220;
      stroke: #00ff00;
      stroke-width: 1;
      transition: all 0.3s ease;
    }

    path:hover {
      fill: #39ff14;
      stroke: #39ff14;
      filter: drop-shadow(0 0 8px #39ff14);
      transform: scale(1.02);
      transform-origin: center;
      cursor: pointer;
    }

    #neural-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <canvas id="neural-canvas"></canvas>

  <div id="svg-container">
    <!-- Aqui deve estar seu SVG do mapa já embutido -->
    <svg viewBox="0 0 800 800" id="mapa">
      <!-- Exemplo simplificado -->
      <path id="rn" d="M 300,200 L 310,210 L 320,200 Z"/>
      <path id="pb" d="M 350,250 L 360,260 L 370,250 Z"/>
      <path id="pe" d="M 400,300 L 410,310 L 420,300 Z"/>
    </svg>
  </div>

  <script>
    const canvas = document.getElementById('neural-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const nodes = [];

    // Defina aqui os pontos (posições aproximadas dos estados no mapa)
    const basePoints = [
      { x: 600, y: 200 },
      { x: 650, y: 250 },
      { x: 700, y: 300 },
      { x: 620, y: 340 },
      { x: 570, y: 390 },
      { x: 520, y: 440 },
      { x: 600, y: 500 },
      { x: 550, y: 580 }
    ];

    basePoints.forEach(p => {
      nodes.push({
        x: p.x,
        y: p.y,
        vx: (Math.random() - 0.5) * 0.3,
        vy: (Math.random() - 0.5) * 0.3
      });
    });

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Conexões
      ctx.strokeStyle = '#00ffcc';
      ctx.lineWidth = 1;
      ctx.shadowColor = '#00ffcc';
      ctx.shadowBlur = 6;

      for (let i = 0; i < nodes.length; i++) {
        for (let j = i + 1; j < nodes.length; j++) {
          const a = nodes[i];
          const b = nodes[j];
          const dx = a.x - b.x;
          const dy = a.y - b.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 150) {
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }
      }

      // Pontos
      nodes.forEach(node => {
        ctx.beginPath();
        ctx.arc(node.x, node.y, 3, 0, 2 * Math.PI);
        ctx.fillStyle = '#00ffcc';
        ctx.fill();

        // Leve animação
        node.x += node.vx;
        node.y += node.vy;

        // Limite de oscilação
        if (node.x < 500 || node.x > 750) node.vx *= -1;
        if (node.y < 150 || node.y > 600) node.vy *= -1;
      });

      requestAnimationFrame(draw);
    }

    draw();
  </script>

</body>
</html>
